{"ast":null,"code":"var _jsxFileName = \"D:\\\\AI\\\\_Programs\\\\CBSE\\\\aqnamic\\\\frontend\\\\src\\\\components\\\\ParsedQuestionsView.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './ParsedQuestionsView.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ParsedQuestionsView = ({\n  paperId,\n  onClose\n}) => {\n  _s();\n  const [questions, setQuestions] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [filter, setFilter] = useState('all');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedDiagram, setSelectedDiagram] = useState(null);\n  const [selectedPaper, setSelectedPaper] = useState(paperId || 'all');\n  const [groupByPaper, setGroupByPaper] = useState(!paperId); // Group by default when viewing all\n\n  useEffect(() => {\n    fetchParsedQuestions();\n  }, [paperId]);\n  const fetchParsedQuestions = async () => {\n    try {\n      const url = paperId ? `http://localhost:5000/api/parsed-questions?paper_id=${paperId}` : 'http://localhost:5000/api/parsed-questions';\n      const response = await axios.get(url);\n      setQuestions(response.data);\n    } catch (err) {\n      console.error('Error fetching parsed questions:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const filteredQuestions = questions.filter(q => {\n    const matchesFilter = filter === 'all' || q.question_type === filter;\n    const matchesSearch = q.question_text.toLowerCase().includes(searchTerm.toLowerCase()) || q.question_number.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesPaper = selectedPaper === 'all' || q.paper_id === parseInt(selectedPaper);\n    return matchesFilter && matchesSearch && matchesPaper;\n  });\n  const questionTypes = [...new Set(questions.map(q => q.question_type))];\n\n  // Get unique papers\n  const papers = [...new Map(questions.map(q => [q.paper_id, {\n    id: q.paper_id,\n    title: q.paper_title,\n    subject: q.subject\n  }])).values()];\n\n  // Group questions by paper\n  const groupedQuestions = {};\n  filteredQuestions.forEach(q => {\n    const key = `${q.paper_id}_${q.paper_title}`;\n    if (!groupedQuestions[key]) {\n      groupedQuestions[key] = {\n        paper_id: q.paper_id,\n        paper_title: q.paper_title,\n        subject: q.subject,\n        questions: []\n      };\n    }\n    groupedQuestions[key].questions.push(q);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"parsed-questions-modal\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"parsed-questions-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"parsed-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\uD83D\\uDCCB Parsed Questions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [questions.length, \" questions from \", papers.length, \" paper(s)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close-btn\",\n          onClick: onClose,\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"parsed-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"\\uD83D\\uDD0D Search questions...\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value),\n          className: \"search-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), !paperId && /*#__PURE__*/_jsxDEV(\"select\", {\n          value: selectedPaper,\n          onChange: e => setSelectedPaper(e.target.value),\n          className: \"filter-select\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"all\",\n            children: [\"All Papers (\", papers.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 15\n          }, this), papers.map(paper => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: paper.id,\n            children: [paper.title, \" - \", paper.subject]\n          }, paper.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: filter,\n          onChange: e => setFilter(e.target.value),\n          className: \"filter-select\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"all\",\n            children: \"All Types\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), questionTypes.map(type => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: type,\n            children: type\n          }, type, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), !paperId && /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"group-toggle\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: groupByPaper,\n            onChange: e => setGroupByPaper(e.target.checked)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 15\n          }, this), \"Group by Paper\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"results-count\",\n          children: [filteredQuestions.length, \" of \", questions.length, \" questions\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-state\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading parsed questions...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }, this) : groupByPaper && !paperId ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"questions-list\",\n        children: Object.values(groupedQuestions).map(group => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"paper-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"paper-group-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [\"\\uD83D\\uDCC4 \", group.paper_title]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"paper-subject\",\n              children: group.subject\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"question-count-badge\",\n              children: [group.questions.length, \" questions\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 17\n          }, this), group.questions.map((q, index) => {\n            const parsedData = q.parsed_data ? JSON.parse(q.parsed_data) : {};\n            let displayNumber = q.question_number;\n            const numberMatch = q.question_text.match(/^(\\d+)\\s*[\\.\\)]/);\n            if (numberMatch) {\n              displayNumber = numberMatch[1];\n            }\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"parsed-question-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"question-header-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"question-number-badge\",\n                  children: [\"Q\", displayNumber]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"question-meta-tags\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `type-badge ${q.question_type}`,\n                    children: q.question_type\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 154,\n                    columnNumber: 27\n                  }, this), q.has_diagram && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"diagram-badge\",\n                    children: \"\\uD83D\\uDCCA Diagram\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 159,\n                    columnNumber: 29\n                  }, this), q.marks && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"marks-badge\",\n                    children: [q.marks, \" marks\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 163,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"question-text-display\",\n                children: q.question_text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 23\n              }, this), parsedData.sub_parts && parsedData.sub_parts.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"sub-parts-display\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Sub-parts:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 27\n                }, this), \" \", parsedData.sub_parts.join(', ')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 25\n              }, this), parsedData.diagram_files && parsedData.diagram_files.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"diagrams-display\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\uD83D\\uDCCA Diagrams:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"diagram-thumbnails\",\n                  children: parsedData.diagram_files.map((filename, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"diagram-thumbnail\",\n                    onClick: () => setSelectedDiagram({\n                      paperId: q.paper_id,\n                      filename\n                    }),\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      src: `http://localhost:5000/api/diagram/${q.paper_id}/${filename}`,\n                      alt: `Diagram ${idx + 1}`,\n                      onError: e => e.target.style.display = 'none'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 188,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"diagram-label\",\n                      children: [\"Diagram \", idx + 1]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 193,\n                      columnNumber: 33\n                    }, this)]\n                  }, idx, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 183,\n                    columnNumber: 31\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"question-footer\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"created-date\",\n                  children: new Date(q.created_at).toLocaleDateString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 23\n              }, this)]\n            }, q.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 21\n            }, this);\n          })]\n        }, group.paper_id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"questions-list\",\n        children: [filteredQuestions.map((q, index) => {\n          const parsedData = q.parsed_data ? JSON.parse(q.parsed_data) : {};\n\n          // Extract question number from question_text if it starts with a number\n          let displayNumber = q.question_number;\n          const numberMatch = q.question_text.match(/^(\\d+)\\s*[\\.\\)]/);\n          if (numberMatch) {\n            displayNumber = numberMatch[1];\n          }\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"parsed-question-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"question-header-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"question-number-badge\",\n                children: [\"Q\", displayNumber]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"question-meta-tags\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `type-badge ${q.question_type}`,\n                  children: q.question_type\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 23\n                }, this), q.has_diagram && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"diagram-badge\",\n                  children: \"\\uD83D\\uDCCA Diagram\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 25\n                }, this), q.marks && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"marks-badge\",\n                  children: [q.marks, \" marks\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"question-text-display\",\n              children: q.question_text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 19\n            }, this), parsedData.sub_parts && parsedData.sub_parts.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sub-parts-display\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Sub-parts:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 23\n              }, this), \" \", parsedData.sub_parts.join(', ')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 21\n            }, this), parsedData.diagram_files && parsedData.diagram_files.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"diagrams-display\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\uD83D\\uDCCA Diagrams:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"diagram-thumbnails\",\n                children: parsedData.diagram_files.map((filename, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"diagram-thumbnail\",\n                  onClick: () => setSelectedDiagram({\n                    paperId: q.paper_id,\n                    filename\n                  }),\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    src: `http://localhost:5000/api/diagram/${q.paper_id}/${filename}`,\n                    alt: `Diagram ${idx + 1}`,\n                    onError: e => e.target.style.display = 'none'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 265,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"diagram-label\",\n                    children: [\"Diagram \", idx + 1]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 270,\n                    columnNumber: 29\n                  }, this)]\n                }, idx, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 27\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"question-footer\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"paper-info\",\n                children: [\"\\uD83D\\uDCC4 \", q.paper_title, \" \\u2022 \", q.subject]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"created-date\",\n                children: new Date(q.created_at).toLocaleDateString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 19\n            }, this)]\n          }, q.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 17\n          }, this);\n        }), filteredQuestions.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-questions\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No questions found matching your criteria\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 11\n      }, this), selectedDiagram && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"diagram-modal\",\n        onClick: () => setSelectedDiagram(null),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"diagram-modal-content\",\n          onClick: e => e.stopPropagation(),\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-diagram-btn\",\n            onClick: () => setSelectedDiagram(null),\n            children: \"\\u2715\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: `http://localhost:5000/api/diagram/${selectedDiagram.paperId}/${selectedDiagram.filename}`,\n            alt: \"Diagram\",\n            className: \"diagram-full\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n_s(ParsedQuestionsView, \"yQEF7+0vIUg/hRMDAuUJcGmKHOc=\");\n_c = ParsedQuestionsView;\nexport default ParsedQuestionsView;\nvar _c;\n$RefreshReg$(_c, \"ParsedQuestionsView\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","ParsedQuestionsView","paperId","onClose","_s","questions","setQuestions","loading","setLoading","filter","setFilter","searchTerm","setSearchTerm","selectedDiagram","setSelectedDiagram","selectedPaper","setSelectedPaper","groupByPaper","setGroupByPaper","fetchParsedQuestions","url","response","get","data","err","console","error","filteredQuestions","q","matchesFilter","question_type","matchesSearch","question_text","toLowerCase","includes","question_number","matchesPaper","paper_id","parseInt","questionTypes","Set","map","papers","Map","id","title","paper_title","subject","values","groupedQuestions","forEach","key","push","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","onClick","type","placeholder","value","onChange","e","target","paper","checked","Object","group","index","parsedData","parsed_data","JSON","parse","displayNumber","numberMatch","match","has_diagram","marks","sub_parts","join","diagram_files","filename","idx","src","alt","onError","style","display","Date","created_at","toLocaleDateString","stopPropagation","_c","$RefreshReg$"],"sources":["D:/AI/_Programs/CBSE/aqnamic/frontend/src/components/ParsedQuestionsView.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './ParsedQuestionsView.css';\n\nconst ParsedQuestionsView = ({ paperId, onClose }) => {\n  const [questions, setQuestions] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [filter, setFilter] = useState('all');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedDiagram, setSelectedDiagram] = useState(null);\n  const [selectedPaper, setSelectedPaper] = useState(paperId || 'all');\n  const [groupByPaper, setGroupByPaper] = useState(!paperId); // Group by default when viewing all\n\n  useEffect(() => {\n    fetchParsedQuestions();\n  }, [paperId]);\n\n  const fetchParsedQuestions = async () => {\n    try {\n      const url = paperId \n        ? `http://localhost:5000/api/parsed-questions?paper_id=${paperId}`\n        : 'http://localhost:5000/api/parsed-questions';\n      \n      const response = await axios.get(url);\n      setQuestions(response.data);\n    } catch (err) {\n      console.error('Error fetching parsed questions:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const filteredQuestions = questions.filter(q => {\n    const matchesFilter = filter === 'all' || q.question_type === filter;\n    const matchesSearch = q.question_text.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         q.question_number.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesPaper = selectedPaper === 'all' || q.paper_id === parseInt(selectedPaper);\n    return matchesFilter && matchesSearch && matchesPaper;\n  });\n\n  const questionTypes = [...new Set(questions.map(q => q.question_type))];\n  \n  // Get unique papers\n  const papers = [...new Map(questions.map(q => [q.paper_id, { id: q.paper_id, title: q.paper_title, subject: q.subject }])).values()];\n  \n  // Group questions by paper\n  const groupedQuestions = {};\n  filteredQuestions.forEach(q => {\n    const key = `${q.paper_id}_${q.paper_title}`;\n    if (!groupedQuestions[key]) {\n      groupedQuestions[key] = {\n        paper_id: q.paper_id,\n        paper_title: q.paper_title,\n        subject: q.subject,\n        questions: []\n      };\n    }\n    groupedQuestions[key].questions.push(q);\n  });\n\n  return (\n    <div className=\"parsed-questions-modal\">\n      <div className=\"parsed-questions-container\">\n        <div className=\"parsed-header\">\n          <div>\n            <h2>📋 Parsed Questions</h2>\n            <p>{questions.length} questions from {papers.length} paper(s)</p>\n          </div>\n          <button className=\"close-btn\" onClick={onClose}>✕</button>\n        </div>\n\n        <div className=\"parsed-controls\">\n          <input\n            type=\"text\"\n            placeholder=\"🔍 Search questions...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"search-input\"\n          />\n\n          {!paperId && (\n            <select \n              value={selectedPaper} \n              onChange={(e) => setSelectedPaper(e.target.value)}\n              className=\"filter-select\"\n            >\n              <option value=\"all\">All Papers ({papers.length})</option>\n              {papers.map(paper => (\n                <option key={paper.id} value={paper.id}>\n                  {paper.title} - {paper.subject}\n                </option>\n              ))}\n            </select>\n          )}\n\n          <select \n            value={filter} \n            onChange={(e) => setFilter(e.target.value)}\n            className=\"filter-select\"\n          >\n            <option value=\"all\">All Types</option>\n            {questionTypes.map(type => (\n              <option key={type} value={type}>{type}</option>\n            ))}\n          </select>\n\n          {!paperId && (\n            <label className=\"group-toggle\">\n              <input\n                type=\"checkbox\"\n                checked={groupByPaper}\n                onChange={(e) => setGroupByPaper(e.target.checked)}\n              />\n              Group by Paper\n            </label>\n          )}\n\n          <div className=\"results-count\">\n            {filteredQuestions.length} of {questions.length} questions\n          </div>\n        </div>\n\n        {loading ? (\n          <div className=\"loading-state\">\n            <div className=\"spinner\"></div>\n            <p>Loading parsed questions...</p>\n          </div>\n        ) : groupByPaper && !paperId ? (\n          <div className=\"questions-list\">\n            {Object.values(groupedQuestions).map((group) => (\n              <div key={group.paper_id} className=\"paper-group\">\n                <div className=\"paper-group-header\">\n                  <h3>📄 {group.paper_title}</h3>\n                  <span className=\"paper-subject\">{group.subject}</span>\n                  <span className=\"question-count-badge\">{group.questions.length} questions</span>\n                </div>\n                {group.questions.map((q, index) => {\n                  const parsedData = q.parsed_data ? JSON.parse(q.parsed_data) : {};\n                  \n                  let displayNumber = q.question_number;\n                  const numberMatch = q.question_text.match(/^(\\d+)\\s*[\\.\\)]/);\n                  if (numberMatch) {\n                    displayNumber = numberMatch[1];\n                  }\n                  \n                  return (\n                    <div key={q.id} className=\"parsed-question-card\">\n                      <div className=\"question-header-row\">\n                        <div className=\"question-number-badge\">\n                          Q{displayNumber}\n                        </div>\n                        \n                        <div className=\"question-meta-tags\">\n                          <span className={`type-badge ${q.question_type}`}>\n                            {q.question_type}\n                          </span>\n                          \n                          {q.has_diagram && (\n                            <span className=\"diagram-badge\">📊 Diagram</span>\n                          )}\n                          \n                          {q.marks && (\n                            <span className=\"marks-badge\">{q.marks} marks</span>\n                          )}\n                        </div>\n                      </div>\n\n                      <div className=\"question-text-display\">\n                        {q.question_text}\n                      </div>\n\n                      {parsedData.sub_parts && parsedData.sub_parts.length > 0 && (\n                        <div className=\"sub-parts-display\">\n                          <strong>Sub-parts:</strong> {parsedData.sub_parts.join(', ')}\n                        </div>\n                      )}\n\n                      {parsedData.diagram_files && parsedData.diagram_files.length > 0 && (\n                        <div className=\"diagrams-display\">\n                          <strong>📊 Diagrams:</strong>\n                          <div className=\"diagram-thumbnails\">\n                            {parsedData.diagram_files.map((filename, idx) => (\n                              <div \n                                key={idx} \n                                className=\"diagram-thumbnail\"\n                                onClick={() => setSelectedDiagram({ paperId: q.paper_id, filename })}\n                              >\n                                <img \n                                  src={`http://localhost:5000/api/diagram/${q.paper_id}/${filename}`}\n                                  alt={`Diagram ${idx + 1}`}\n                                  onError={(e) => e.target.style.display = 'none'}\n                                />\n                                <span className=\"diagram-label\">Diagram {idx + 1}</span>\n                              </div>\n                            ))}\n                          </div>\n                        </div>\n                      )}\n\n                      <div className=\"question-footer\">\n                        <span className=\"created-date\">\n                          {new Date(q.created_at).toLocaleDateString()}\n                        </span>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            ))}\n          </div>\n        ) : (\n          <div className=\"questions-list\">\n            {filteredQuestions.map((q, index) => {\n              const parsedData = q.parsed_data ? JSON.parse(q.parsed_data) : {};\n              \n              // Extract question number from question_text if it starts with a number\n              let displayNumber = q.question_number;\n              const numberMatch = q.question_text.match(/^(\\d+)\\s*[\\.\\)]/);\n              if (numberMatch) {\n                displayNumber = numberMatch[1];\n              }\n              \n              return (\n                <div key={q.id} className=\"parsed-question-card\">\n                  <div className=\"question-header-row\">\n                    <div className=\"question-number-badge\">\n                      Q{displayNumber}\n                    </div>\n                    \n                    <div className=\"question-meta-tags\">\n                      <span className={`type-badge ${q.question_type}`}>\n                        {q.question_type}\n                      </span>\n                      \n                      {q.has_diagram && (\n                        <span className=\"diagram-badge\">📊 Diagram</span>\n                      )}\n                      \n                      {q.marks && (\n                        <span className=\"marks-badge\">{q.marks} marks</span>\n                      )}\n                    </div>\n                  </div>\n\n                  <div className=\"question-text-display\">\n                    {q.question_text}\n                  </div>\n\n                  {parsedData.sub_parts && parsedData.sub_parts.length > 0 && (\n                    <div className=\"sub-parts-display\">\n                      <strong>Sub-parts:</strong> {parsedData.sub_parts.join(', ')}\n                    </div>\n                  )}\n\n                  {parsedData.diagram_files && parsedData.diagram_files.length > 0 && (\n                    <div className=\"diagrams-display\">\n                      <strong>📊 Diagrams:</strong>\n                      <div className=\"diagram-thumbnails\">\n                        {parsedData.diagram_files.map((filename, idx) => (\n                          <div \n                            key={idx} \n                            className=\"diagram-thumbnail\"\n                            onClick={() => setSelectedDiagram({ paperId: q.paper_id, filename })}\n                          >\n                            <img \n                              src={`http://localhost:5000/api/diagram/${q.paper_id}/${filename}`}\n                              alt={`Diagram ${idx + 1}`}\n                              onError={(e) => e.target.style.display = 'none'}\n                            />\n                            <span className=\"diagram-label\">Diagram {idx + 1}</span>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n\n                  <div className=\"question-footer\">\n                    <span className=\"paper-info\">\n                      📄 {q.paper_title} • {q.subject}\n                    </span>\n                    <span className=\"created-date\">\n                      {new Date(q.created_at).toLocaleDateString()}\n                    </span>\n                  </div>\n                </div>\n              );\n            })}\n\n            {filteredQuestions.length === 0 && (\n              <div className=\"no-questions\">\n                <p>No questions found matching your criteria</p>\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Diagram Modal */}\n        {selectedDiagram && (\n          <div className=\"diagram-modal\" onClick={() => setSelectedDiagram(null)}>\n            <div className=\"diagram-modal-content\" onClick={(e) => e.stopPropagation()}>\n              <button className=\"close-diagram-btn\" onClick={() => setSelectedDiagram(null)}>✕</button>\n              <img \n                src={`http://localhost:5000/api/diagram/${selectedDiagram.paperId}/${selectedDiagram.filename}`}\n                alt=\"Diagram\"\n                className=\"diagram-full\"\n              />\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ParsedQuestionsView;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,2BAA2B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnC,MAAMC,mBAAmB,GAAGA,CAAC;EAAEC,OAAO;EAAEC;AAAQ,CAAC,KAAK;EAAAC,EAAA;EACpD,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACW,OAAO,EAAEC,UAAU,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACa,MAAM,EAAEC,SAAS,CAAC,GAAGd,QAAQ,CAAC,KAAK,CAAC;EAC3C,MAAM,CAACe,UAAU,EAAEC,aAAa,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACiB,eAAe,EAAEC,kBAAkB,CAAC,GAAGlB,QAAQ,CAAC,IAAI,CAAC;EAC5D,MAAM,CAACmB,aAAa,EAAEC,gBAAgB,CAAC,GAAGpB,QAAQ,CAACM,OAAO,IAAI,KAAK,CAAC;EACpE,MAAM,CAACe,YAAY,EAAEC,eAAe,CAAC,GAAGtB,QAAQ,CAAC,CAACM,OAAO,CAAC,CAAC,CAAC;;EAE5DL,SAAS,CAAC,MAAM;IACdsB,oBAAoB,CAAC,CAAC;EACxB,CAAC,EAAE,CAACjB,OAAO,CAAC,CAAC;EAEb,MAAMiB,oBAAoB,GAAG,MAAAA,CAAA,KAAY;IACvC,IAAI;MACF,MAAMC,GAAG,GAAGlB,OAAO,GACf,uDAAuDA,OAAO,EAAE,GAChE,4CAA4C;MAEhD,MAAMmB,QAAQ,GAAG,MAAMvB,KAAK,CAACwB,GAAG,CAACF,GAAG,CAAC;MACrCd,YAAY,CAACe,QAAQ,CAACE,IAAI,CAAC;IAC7B,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,kCAAkC,EAAEF,GAAG,CAAC;IACxD,CAAC,SAAS;MACRhB,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMmB,iBAAiB,GAAGtB,SAAS,CAACI,MAAM,CAACmB,CAAC,IAAI;IAC9C,MAAMC,aAAa,GAAGpB,MAAM,KAAK,KAAK,IAAImB,CAAC,CAACE,aAAa,KAAKrB,MAAM;IACpE,MAAMsB,aAAa,GAAGH,CAAC,CAACI,aAAa,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACvB,UAAU,CAACsB,WAAW,CAAC,CAAC,CAAC,IACjEL,CAAC,CAACO,eAAe,CAACF,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACvB,UAAU,CAACsB,WAAW,CAAC,CAAC,CAAC;IACvF,MAAMG,YAAY,GAAGrB,aAAa,KAAK,KAAK,IAAIa,CAAC,CAACS,QAAQ,KAAKC,QAAQ,CAACvB,aAAa,CAAC;IACtF,OAAOc,aAAa,IAAIE,aAAa,IAAIK,YAAY;EACvD,CAAC,CAAC;EAEF,MAAMG,aAAa,GAAG,CAAC,GAAG,IAAIC,GAAG,CAACnC,SAAS,CAACoC,GAAG,CAACb,CAAC,IAAIA,CAAC,CAACE,aAAa,CAAC,CAAC,CAAC;;EAEvE;EACA,MAAMY,MAAM,GAAG,CAAC,GAAG,IAAIC,GAAG,CAACtC,SAAS,CAACoC,GAAG,CAACb,CAAC,IAAI,CAACA,CAAC,CAACS,QAAQ,EAAE;IAAEO,EAAE,EAAEhB,CAAC,CAACS,QAAQ;IAAEQ,KAAK,EAAEjB,CAAC,CAACkB,WAAW;IAAEC,OAAO,EAAEnB,CAAC,CAACmB;EAAQ,CAAC,CAAC,CAAC,CAAC,CAACC,MAAM,CAAC,CAAC,CAAC;;EAEpI;EACA,MAAMC,gBAAgB,GAAG,CAAC,CAAC;EAC3BtB,iBAAiB,CAACuB,OAAO,CAACtB,CAAC,IAAI;IAC7B,MAAMuB,GAAG,GAAG,GAAGvB,CAAC,CAACS,QAAQ,IAAIT,CAAC,CAACkB,WAAW,EAAE;IAC5C,IAAI,CAACG,gBAAgB,CAACE,GAAG,CAAC,EAAE;MAC1BF,gBAAgB,CAACE,GAAG,CAAC,GAAG;QACtBd,QAAQ,EAAET,CAAC,CAACS,QAAQ;QACpBS,WAAW,EAAElB,CAAC,CAACkB,WAAW;QAC1BC,OAAO,EAAEnB,CAAC,CAACmB,OAAO;QAClB1C,SAAS,EAAE;MACb,CAAC;IACH;IACA4C,gBAAgB,CAACE,GAAG,CAAC,CAAC9C,SAAS,CAAC+C,IAAI,CAACxB,CAAC,CAAC;EACzC,CAAC,CAAC;EAEF,oBACE5B,OAAA;IAAKqD,SAAS,EAAC,wBAAwB;IAAAC,QAAA,eACrCtD,OAAA;MAAKqD,SAAS,EAAC,4BAA4B;MAAAC,QAAA,gBACzCtD,OAAA;QAAKqD,SAAS,EAAC,eAAe;QAAAC,QAAA,gBAC5BtD,OAAA;UAAAsD,QAAA,gBACEtD,OAAA;YAAAsD,QAAA,EAAI;UAAmB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC5B1D,OAAA;YAAAsD,QAAA,GAAIjD,SAAS,CAACsD,MAAM,EAAC,kBAAgB,EAACjB,MAAM,CAACiB,MAAM,EAAC,WAAS;UAAA;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9D,CAAC,eACN1D,OAAA;UAAQqD,SAAS,EAAC,WAAW;UAACO,OAAO,EAAEzD,OAAQ;UAAAmD,QAAA,EAAC;QAAC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvD,CAAC,eAEN1D,OAAA;QAAKqD,SAAS,EAAC,iBAAiB;QAAAC,QAAA,gBAC9BtD,OAAA;UACE6D,IAAI,EAAC,MAAM;UACXC,WAAW,EAAC,kCAAwB;UACpCC,KAAK,EAAEpD,UAAW;UAClBqD,QAAQ,EAAGC,CAAC,IAAKrD,aAAa,CAACqD,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;UAC/CV,SAAS,EAAC;QAAc;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzB,CAAC,EAED,CAACxD,OAAO,iBACPF,OAAA;UACE+D,KAAK,EAAEhD,aAAc;UACrBiD,QAAQ,EAAGC,CAAC,IAAKjD,gBAAgB,CAACiD,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;UAClDV,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAEzBtD,OAAA;YAAQ+D,KAAK,EAAC,KAAK;YAAAT,QAAA,GAAC,cAAY,EAACZ,MAAM,CAACiB,MAAM,EAAC,GAAC;UAAA;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,EACxDhB,MAAM,CAACD,GAAG,CAAC0B,KAAK,iBACfnE,OAAA;YAAuB+D,KAAK,EAAEI,KAAK,CAACvB,EAAG;YAAAU,QAAA,GACpCa,KAAK,CAACtB,KAAK,EAAC,KAAG,EAACsB,KAAK,CAACpB,OAAO;UAAA,GADnBoB,KAAK,CAACvB,EAAE;YAAAW,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAEb,CACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACI,CACT,eAED1D,OAAA;UACE+D,KAAK,EAAEtD,MAAO;UACduD,QAAQ,EAAGC,CAAC,IAAKvD,SAAS,CAACuD,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;UAC3CV,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAEzBtD,OAAA;YAAQ+D,KAAK,EAAC,KAAK;YAAAT,QAAA,EAAC;UAAS;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,EACrCnB,aAAa,CAACE,GAAG,CAACoB,IAAI,iBACrB7D,OAAA;YAAmB+D,KAAK,EAAEF,IAAK;YAAAP,QAAA,EAAEO;UAAI,GAAxBA,IAAI;YAAAN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAA6B,CAC/C,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACI,CAAC,EAER,CAACxD,OAAO,iBACPF,OAAA;UAAOqD,SAAS,EAAC,cAAc;UAAAC,QAAA,gBAC7BtD,OAAA;YACE6D,IAAI,EAAC,UAAU;YACfO,OAAO,EAAEnD,YAAa;YACtB+C,QAAQ,EAAGC,CAAC,IAAK/C,eAAe,CAAC+C,CAAC,CAACC,MAAM,CAACE,OAAO;UAAE;YAAAb,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpD,CAAC,kBAEJ;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CACR,eAED1D,OAAA;UAAKqD,SAAS,EAAC,eAAe;UAAAC,QAAA,GAC3B3B,iBAAiB,CAACgC,MAAM,EAAC,MAAI,EAACtD,SAAS,CAACsD,MAAM,EAAC,YAClD;QAAA;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,EAELnD,OAAO,gBACNP,OAAA;QAAKqD,SAAS,EAAC,eAAe;QAAAC,QAAA,gBAC5BtD,OAAA;UAAKqD,SAAS,EAAC;QAAS;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAC/B1D,OAAA;UAAAsD,QAAA,EAAG;QAA2B;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC/B,CAAC,GACJzC,YAAY,IAAI,CAACf,OAAO,gBAC1BF,OAAA;QAAKqD,SAAS,EAAC,gBAAgB;QAAAC,QAAA,EAC5Be,MAAM,CAACrB,MAAM,CAACC,gBAAgB,CAAC,CAACR,GAAG,CAAE6B,KAAK,iBACzCtE,OAAA;UAA0BqD,SAAS,EAAC,aAAa;UAAAC,QAAA,gBAC/CtD,OAAA;YAAKqD,SAAS,EAAC,oBAAoB;YAAAC,QAAA,gBACjCtD,OAAA;cAAAsD,QAAA,GAAI,eAAG,EAACgB,KAAK,CAACxB,WAAW;YAAA;cAAAS,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAC/B1D,OAAA;cAAMqD,SAAS,EAAC,eAAe;cAAAC,QAAA,EAAEgB,KAAK,CAACvB;YAAO;cAAAQ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACtD1D,OAAA;cAAMqD,SAAS,EAAC,sBAAsB;cAAAC,QAAA,GAAEgB,KAAK,CAACjE,SAAS,CAACsD,MAAM,EAAC,YAAU;YAAA;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7E,CAAC,EACLY,KAAK,CAACjE,SAAS,CAACoC,GAAG,CAAC,CAACb,CAAC,EAAE2C,KAAK,KAAK;YACjC,MAAMC,UAAU,GAAG5C,CAAC,CAAC6C,WAAW,GAAGC,IAAI,CAACC,KAAK,CAAC/C,CAAC,CAAC6C,WAAW,CAAC,GAAG,CAAC,CAAC;YAEjE,IAAIG,aAAa,GAAGhD,CAAC,CAACO,eAAe;YACrC,MAAM0C,WAAW,GAAGjD,CAAC,CAACI,aAAa,CAAC8C,KAAK,CAAC,iBAAiB,CAAC;YAC5D,IAAID,WAAW,EAAE;cACfD,aAAa,GAAGC,WAAW,CAAC,CAAC,CAAC;YAChC;YAEA,oBACE7E,OAAA;cAAgBqD,SAAS,EAAC,sBAAsB;cAAAC,QAAA,gBAC9CtD,OAAA;gBAAKqD,SAAS,EAAC,qBAAqB;gBAAAC,QAAA,gBAClCtD,OAAA;kBAAKqD,SAAS,EAAC,uBAAuB;kBAAAC,QAAA,GAAC,GACpC,EAACsB,aAAa;gBAAA;kBAAArB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACZ,CAAC,eAEN1D,OAAA;kBAAKqD,SAAS,EAAC,oBAAoB;kBAAAC,QAAA,gBACjCtD,OAAA;oBAAMqD,SAAS,EAAE,cAAczB,CAAC,CAACE,aAAa,EAAG;oBAAAwB,QAAA,EAC9C1B,CAAC,CAACE;kBAAa;oBAAAyB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACZ,CAAC,EAEN9B,CAAC,CAACmD,WAAW,iBACZ/E,OAAA;oBAAMqD,SAAS,EAAC,eAAe;oBAAAC,QAAA,EAAC;kBAAU;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CACjD,EAEA9B,CAAC,CAACoD,KAAK,iBACNhF,OAAA;oBAAMqD,SAAS,EAAC,aAAa;oBAAAC,QAAA,GAAE1B,CAAC,CAACoD,KAAK,EAAC,QAAM;kBAAA;oBAAAzB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CACpD;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACE,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eAEN1D,OAAA;gBAAKqD,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,EACnC1B,CAAC,CAACI;cAAa;gBAAAuB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACb,CAAC,EAELc,UAAU,CAACS,SAAS,IAAIT,UAAU,CAACS,SAAS,CAACtB,MAAM,GAAG,CAAC,iBACtD3D,OAAA;gBAAKqD,SAAS,EAAC,mBAAmB;gBAAAC,QAAA,gBAChCtD,OAAA;kBAAAsD,QAAA,EAAQ;gBAAU;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,KAAC,EAACc,UAAU,CAACS,SAAS,CAACC,IAAI,CAAC,IAAI,CAAC;cAAA;gBAAA3B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACzD,CACN,EAEAc,UAAU,CAACW,aAAa,IAAIX,UAAU,CAACW,aAAa,CAACxB,MAAM,GAAG,CAAC,iBAC9D3D,OAAA;gBAAKqD,SAAS,EAAC,kBAAkB;gBAAAC,QAAA,gBAC/BtD,OAAA;kBAAAsD,QAAA,EAAQ;gBAAY;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eAC7B1D,OAAA;kBAAKqD,SAAS,EAAC,oBAAoB;kBAAAC,QAAA,EAChCkB,UAAU,CAACW,aAAa,CAAC1C,GAAG,CAAC,CAAC2C,QAAQ,EAAEC,GAAG,kBAC1CrF,OAAA;oBAEEqD,SAAS,EAAC,mBAAmB;oBAC7BO,OAAO,EAAEA,CAAA,KAAM9C,kBAAkB,CAAC;sBAAEZ,OAAO,EAAE0B,CAAC,CAACS,QAAQ;sBAAE+C;oBAAS,CAAC,CAAE;oBAAA9B,QAAA,gBAErEtD,OAAA;sBACEsF,GAAG,EAAE,qCAAqC1D,CAAC,CAACS,QAAQ,IAAI+C,QAAQ,EAAG;sBACnEG,GAAG,EAAE,WAAWF,GAAG,GAAG,CAAC,EAAG;sBAC1BG,OAAO,EAAGvB,CAAC,IAAKA,CAAC,CAACC,MAAM,CAACuB,KAAK,CAACC,OAAO,GAAG;oBAAO;sBAAAnC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACjD,CAAC,eACF1D,OAAA;sBAAMqD,SAAS,EAAC,eAAe;sBAAAC,QAAA,GAAC,UAAQ,EAAC+B,GAAG,GAAG,CAAC;oBAAA;sBAAA9B,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAO,CAAC;kBAAA,GATnD2B,GAAG;oBAAA9B,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAUL,CACN;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACC,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CACN,eAED1D,OAAA;gBAAKqD,SAAS,EAAC,iBAAiB;gBAAAC,QAAA,eAC9BtD,OAAA;kBAAMqD,SAAS,EAAC,cAAc;kBAAAC,QAAA,EAC3B,IAAIqC,IAAI,CAAC/D,CAAC,CAACgE,UAAU,CAAC,CAACC,kBAAkB,CAAC;gBAAC;kBAAAtC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACxC;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACJ,CAAC;YAAA,GAzDE9B,CAAC,CAACgB,EAAE;cAAAW,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OA0DT,CAAC;UAEV,CAAC,CAAC;QAAA,GA5EMY,KAAK,CAACjC,QAAQ;UAAAkB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OA6EnB,CACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,gBAEN1D,OAAA;QAAKqD,SAAS,EAAC,gBAAgB;QAAAC,QAAA,GAC5B3B,iBAAiB,CAACc,GAAG,CAAC,CAACb,CAAC,EAAE2C,KAAK,KAAK;UACnC,MAAMC,UAAU,GAAG5C,CAAC,CAAC6C,WAAW,GAAGC,IAAI,CAACC,KAAK,CAAC/C,CAAC,CAAC6C,WAAW,CAAC,GAAG,CAAC,CAAC;;UAEjE;UACA,IAAIG,aAAa,GAAGhD,CAAC,CAACO,eAAe;UACrC,MAAM0C,WAAW,GAAGjD,CAAC,CAACI,aAAa,CAAC8C,KAAK,CAAC,iBAAiB,CAAC;UAC5D,IAAID,WAAW,EAAE;YACfD,aAAa,GAAGC,WAAW,CAAC,CAAC,CAAC;UAChC;UAEA,oBACE7E,OAAA;YAAgBqD,SAAS,EAAC,sBAAsB;YAAAC,QAAA,gBAC9CtD,OAAA;cAAKqD,SAAS,EAAC,qBAAqB;cAAAC,QAAA,gBAClCtD,OAAA;gBAAKqD,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,GAAC,GACpC,EAACsB,aAAa;cAAA;gBAAArB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACZ,CAAC,eAEN1D,OAAA;gBAAKqD,SAAS,EAAC,oBAAoB;gBAAAC,QAAA,gBACjCtD,OAAA;kBAAMqD,SAAS,EAAE,cAAczB,CAAC,CAACE,aAAa,EAAG;kBAAAwB,QAAA,EAC9C1B,CAAC,CAACE;gBAAa;kBAAAyB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACZ,CAAC,EAEN9B,CAAC,CAACmD,WAAW,iBACZ/E,OAAA;kBAAMqD,SAAS,EAAC,eAAe;kBAAAC,QAAA,EAAC;gBAAU;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CACjD,EAEA9B,CAAC,CAACoD,KAAK,iBACNhF,OAAA;kBAAMqD,SAAS,EAAC,aAAa;kBAAAC,QAAA,GAAE1B,CAAC,CAACoD,KAAK,EAAC,QAAM;gBAAA;kBAAAzB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CACpD;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACE,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eAEN1D,OAAA;cAAKqD,SAAS,EAAC,uBAAuB;cAAAC,QAAA,EACnC1B,CAAC,CAACI;YAAa;cAAAuB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACb,CAAC,EAELc,UAAU,CAACS,SAAS,IAAIT,UAAU,CAACS,SAAS,CAACtB,MAAM,GAAG,CAAC,iBACtD3D,OAAA;cAAKqD,SAAS,EAAC,mBAAmB;cAAAC,QAAA,gBAChCtD,OAAA;gBAAAsD,QAAA,EAAQ;cAAU;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,KAAC,EAACc,UAAU,CAACS,SAAS,CAACC,IAAI,CAAC,IAAI,CAAC;YAAA;cAAA3B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzD,CACN,EAEAc,UAAU,CAACW,aAAa,IAAIX,UAAU,CAACW,aAAa,CAACxB,MAAM,GAAG,CAAC,iBAC9D3D,OAAA;cAAKqD,SAAS,EAAC,kBAAkB;cAAAC,QAAA,gBAC/BtD,OAAA;gBAAAsD,QAAA,EAAQ;cAAY;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eAC7B1D,OAAA;gBAAKqD,SAAS,EAAC,oBAAoB;gBAAAC,QAAA,EAChCkB,UAAU,CAACW,aAAa,CAAC1C,GAAG,CAAC,CAAC2C,QAAQ,EAAEC,GAAG,kBAC1CrF,OAAA;kBAEEqD,SAAS,EAAC,mBAAmB;kBAC7BO,OAAO,EAAEA,CAAA,KAAM9C,kBAAkB,CAAC;oBAAEZ,OAAO,EAAE0B,CAAC,CAACS,QAAQ;oBAAE+C;kBAAS,CAAC,CAAE;kBAAA9B,QAAA,gBAErEtD,OAAA;oBACEsF,GAAG,EAAE,qCAAqC1D,CAAC,CAACS,QAAQ,IAAI+C,QAAQ,EAAG;oBACnEG,GAAG,EAAE,WAAWF,GAAG,GAAG,CAAC,EAAG;oBAC1BG,OAAO,EAAGvB,CAAC,IAAKA,CAAC,CAACC,MAAM,CAACuB,KAAK,CAACC,OAAO,GAAG;kBAAO;oBAAAnC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACjD,CAAC,eACF1D,OAAA;oBAAMqD,SAAS,EAAC,eAAe;oBAAAC,QAAA,GAAC,UAAQ,EAAC+B,GAAG,GAAG,CAAC;kBAAA;oBAAA9B,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC;gBAAA,GATnD2B,GAAG;kBAAA9B,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAUL,CACN;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CACN,eAED1D,OAAA;cAAKqD,SAAS,EAAC,iBAAiB;cAAAC,QAAA,gBAC9BtD,OAAA;gBAAMqD,SAAS,EAAC,YAAY;gBAAAC,QAAA,GAAC,eACxB,EAAC1B,CAAC,CAACkB,WAAW,EAAC,UAAG,EAAClB,CAAC,CAACmB,OAAO;cAAA;gBAAAQ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3B,CAAC,eACP1D,OAAA;gBAAMqD,SAAS,EAAC,cAAc;gBAAAC,QAAA,EAC3B,IAAIqC,IAAI,CAAC/D,CAAC,CAACgE,UAAU,CAAC,CAACC,kBAAkB,CAAC;cAAC;gBAAAtC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACJ,CAAC;UAAA,GA5DE9B,CAAC,CAACgB,EAAE;YAAAW,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OA6DT,CAAC;QAEV,CAAC,CAAC,EAED/B,iBAAiB,CAACgC,MAAM,KAAK,CAAC,iBAC7B3D,OAAA;UAAKqD,SAAS,EAAC,cAAc;UAAAC,QAAA,eAC3BtD,OAAA;YAAAsD,QAAA,EAAG;UAAyC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7C,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CACN,EAGA7C,eAAe,iBACdb,OAAA;QAAKqD,SAAS,EAAC,eAAe;QAACO,OAAO,EAAEA,CAAA,KAAM9C,kBAAkB,CAAC,IAAI,CAAE;QAAAwC,QAAA,eACrEtD,OAAA;UAAKqD,SAAS,EAAC,uBAAuB;UAACO,OAAO,EAAGK,CAAC,IAAKA,CAAC,CAAC6B,eAAe,CAAC,CAAE;UAAAxC,QAAA,gBACzEtD,OAAA;YAAQqD,SAAS,EAAC,mBAAmB;YAACO,OAAO,EAAEA,CAAA,KAAM9C,kBAAkB,CAAC,IAAI,CAAE;YAAAwC,QAAA,EAAC;UAAC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACzF1D,OAAA;YACEsF,GAAG,EAAE,qCAAqCzE,eAAe,CAACX,OAAO,IAAIW,eAAe,CAACuE,QAAQ,EAAG;YAChGG,GAAG,EAAC,SAAS;YACblC,SAAS,EAAC;UAAc;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACtD,EAAA,CApTIH,mBAAmB;AAAA8F,EAAA,GAAnB9F,mBAAmB;AAsTzB,eAAeA,mBAAmB;AAAC,IAAA8F,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}