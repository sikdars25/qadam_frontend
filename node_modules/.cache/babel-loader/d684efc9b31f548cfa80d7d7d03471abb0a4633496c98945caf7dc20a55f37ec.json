{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'./SampleQuestions.css';import EnhancedPDFViewer from'./EnhancedPDFViewer';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const SampleQuestions=()=>{const[uploadedPapers,setUploadedPapers]=useState([]);const[filteredPapers,setFilteredPapers]=useState([]);const[textbooks,setTextbooks]=useState([]);const[filteredTextbooks,setFilteredTextbooks]=useState([]);const[subjects,setSubjects]=useState([]);const[selectedSubject,setSelectedSubject]=useState('all');const[selectedTextbook,setSelectedTextbook]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[modalOpen,setModalOpen]=useState(false);const[modalContent,setModalContent]=useState('');const[modalTitle,setModalTitle]=useState('');const[loadingContent,setLoadingContent]=useState(false);const[showEnhancedViewer,setShowEnhancedViewer]=useState(false);const[selectedPaperId,setSelectedPaperId]=useState(null);useEffect(()=>{fetchUploadedPapers();fetchTextbooks();},[]);const fetchUploadedPapers=async()=>{setLoading(true);setError('');try{const response=await axios.get('http://localhost:5000/api/uploaded-papers');const papers=response.data;setUploadedPapers(papers);setFilteredPapers(papers);// Extract unique subjects from uploaded papers\nconst uniqueSubjects=[...new Set(papers.map(paper=>paper.subject))];setSubjects(uniqueSubjects);}catch(err){setError('Failed to load uploaded papers. Please try again.');}finally{setLoading(false);}};const fetchTextbooks=async()=>{try{const response=await axios.get('http://localhost:5000/api/textbooks');const books=response.data;setTextbooks(books);setFilteredTextbooks(books);}catch(err){console.error('Error fetching textbooks:',err);}};const handleSubjectChange=subject=>{setSelectedSubject(subject);if(subject==='all'){setFilteredPapers(uploadedPapers);setFilteredTextbooks(textbooks);}else{setFilteredPapers(uploadedPapers.filter(paper=>paper.subject===subject));setFilteredTextbooks(textbooks.filter(book=>book.subject===subject));}};const handleRowClick=async function(paper){let isTextbook=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(isTextbook){// Select textbook for analysis\nsetSelectedTextbook(paper);return;}// Check if a textbook is selected for AI analysis\nif(selectedTextbook){// Open enhanced viewer with AI features\nsetSelectedPaperId(paper.id);setShowEnhancedViewer(true);}else{// Open regular modal viewer\nsetModalOpen(true);setModalTitle(paper.title);setLoadingContent(true);setModalContent('');try{const apiUrl=\"http://localhost:5000/api/paper-file/\".concat(paper.id);const response=await axios.get(apiUrl);if(response.data.success){const fileType=response.data.file_type;const fileUrl=\"http://localhost:5000/api/download-paper/\".concat(paper.id);if(fileType==='pdf'){setModalContent(\"<iframe src=\\\"\".concat(fileUrl,\"\\\" style=\\\"width: 100%; height: 600px; border: none; border-radius: 8px;\\\"></iframe>\"));}else if(fileType==='txt'){const textResponse=await fetch(fileUrl);const textContent=await textResponse.text();setModalContent(\"<pre style=\\\"white-space: pre-wrap; font-family: Arial; padding: 20px; background: #f8f9fa; border-radius: 8px; line-height: 1.6;\\\">\".concat(textContent,\"</pre>\"));}else{setModalContent(\"<div style=\\\"padding: 40px; text-align: center;\\\">\\n              <h3>File Preview Not Available</h3>\\n              <p>This file type (\".concat(fileType.toUpperCase(),\") cannot be previewed in the browser.</p>\\n              <a href=\\\"\").concat(fileUrl,\"\\\" download style=\\\"display: inline-block; margin-top: 20px; padding: 12px 24px; background: #667eea; color: white; text-decoration: none; border-radius: 8px; font-weight: 600;\\\">Download File</a>\\n            </div>\"));}}else{setModalContent('<div style=\"padding: 20px; color: red;\">Failed to load file.</div>');}}catch(err){setModalContent('<div style=\"padding: 20px; color: red;\">Error loading file.</div>');}finally{setLoadingContent(false);}}};const handleTextbookClick=textbook=>{if(selectedTextbook&&selectedTextbook.id===textbook.id){// Deselect textbook\nsetSelectedTextbook(null);}else{// Select textbook\nsetSelectedTextbook(textbook);}};const closeModal=()=>{setModalOpen(false);setModalContent('');setModalTitle('');};const formatDate=dateString=>{const date=new Date(dateString);return date.toLocaleDateString('en-US',{year:'numeric',month:'short',day:'numeric',hour:'2-digit',minute:'2-digit'});};return/*#__PURE__*/_jsx(\"div\",{className:\"sample-questions\",children:showEnhancedViewer?/*#__PURE__*/_jsx(EnhancedPDFViewer,{paperId:selectedPaperId,textbookId:selectedTextbook===null||selectedTextbook===void 0?void 0:selectedTextbook.id,onClose:()=>setShowEnhancedViewer(false)}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"questions-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDCDA Answer a full paper\"}),/*#__PURE__*/_jsx(\"p\",{children:selectedTextbook?\"\\uD83E\\uDD16 AI Mode Active: Selected \\\"\".concat(selectedTextbook.title,\"\\\" - Click any question paper for AI analysis\"):'Select a textbook first, then click a question paper for AI-powered analysis'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-section\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Filter by Subject:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"subject-filters\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"filter-btn \".concat(selectedSubject==='all'?'active':''),onClick:()=>handleSubjectChange('all'),children:\"All Subjects\"}),subjects.map(subject=>/*#__PURE__*/_jsx(\"button\",{className:\"filter-btn \".concat(selectedSubject===subject?'active':''),onClick:()=>handleSubjectChange(subject),children:subject},subject))]})]}),filteredTextbooks.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"textbooks-section\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"section-heading\",children:[\"\\uD83D\\uDCD6 Available Textbooks\",selectedTextbook&&/*#__PURE__*/_jsx(\"span\",{className:\"ai-badge\",children:\"\\u2728 AI Analysis Mode\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"textbooks-grid\",children:filteredTextbooks.map(textbook=>/*#__PURE__*/_jsxs(\"div\",{className:\"textbook-card \".concat((selectedTextbook===null||selectedTextbook===void 0?void 0:selectedTextbook.id)===textbook.id?'selected':''),onClick:()=>handleTextbookClick(textbook),children:[/*#__PURE__*/_jsx(\"div\",{className:\"textbook-icon\",children:\"\\uD83D\\uDCDA\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"textbook-info\",children:[/*#__PURE__*/_jsx(\"h4\",{children:textbook.title}),/*#__PURE__*/_jsx(\"p\",{className:\"textbook-subject\",children:textbook.subject}),textbook.author&&/*#__PURE__*/_jsxs(\"p\",{className:\"textbook-author\",children:[\"By: \",textbook.author]}),/*#__PURE__*/_jsxs(\"p\",{className:\"textbook-meta\",children:[\"Uploaded by: \",textbook.uploaded_by_name||'Unknown']})]}),(selectedTextbook===null||selectedTextbook===void 0?void 0:selectedTextbook.id)===textbook.id&&/*#__PURE__*/_jsx(\"div\",{className:\"selected-badge\",children:\"\\u2713 Selected\"})]},textbook.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"papers-section\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"section-heading\",children:\"\\uD83D\\uDCDD Question Papers\"}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading papers...\"}):error?/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error}):filteredPapers.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"no-questions\",children:selectedSubject==='all'?'No papers uploaded yet. Upload papers from the \"Upload Papers\" menu.':\"No papers found for \".concat(selectedSubject,\".\")}):/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"papers-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Subject\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Uploaded By\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Upload Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"File Name\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredPapers.map((paper,index)=>/*#__PURE__*/_jsxs(\"tr\",{onClick:()=>handleRowClick(paper,false),className:\"clickable-row\",children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{className:\"title-cell\",children:paper.title}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"subject-badge\",children:paper.subject})}),/*#__PURE__*/_jsx(\"td\",{children:paper.uploaded_by_name||'Unknown'}),/*#__PURE__*/_jsx(\"td\",{children:formatDate(paper.uploaded_at)}),/*#__PURE__*/_jsx(\"td\",{className:\"file-cell\",children:paper.file_path.split('/').pop()})]},paper.id))})]})})]}),modalOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:closeModal,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:modalTitle}),/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",onClick:closeModal,children:\"\\u2715\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:loadingContent?/*#__PURE__*/_jsx(\"div\",{className:\"loading-content\",children:\"Loading content...\"}):/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:modalContent}})})]})})]})});};export default SampleQuestions;","map":{"version":3,"names":["React","useState","useEffect","axios","EnhancedPDFViewer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SampleQuestions","uploadedPapers","setUploadedPapers","filteredPapers","setFilteredPapers","textbooks","setTextbooks","filteredTextbooks","setFilteredTextbooks","subjects","setSubjects","selectedSubject","setSelectedSubject","selectedTextbook","setSelectedTextbook","loading","setLoading","error","setError","modalOpen","setModalOpen","modalContent","setModalContent","modalTitle","setModalTitle","loadingContent","setLoadingContent","showEnhancedViewer","setShowEnhancedViewer","selectedPaperId","setSelectedPaperId","fetchUploadedPapers","fetchTextbooks","response","get","papers","data","uniqueSubjects","Set","map","paper","subject","err","books","console","handleSubjectChange","filter","book","handleRowClick","isTextbook","arguments","length","undefined","id","title","apiUrl","concat","success","fileType","file_type","fileUrl","textResponse","fetch","textContent","text","toUpperCase","handleTextbookClick","textbook","closeModal","formatDate","dateString","date","Date","toLocaleDateString","year","month","day","hour","minute","className","children","paperId","textbookId","onClose","onClick","author","uploaded_by_name","index","uploaded_at","file_path","split","pop","e","stopPropagation","dangerouslySetInnerHTML","__html"],"sources":["D:/AI/_Programs/CBSE/aqnamic/frontend/src/components/SampleQuestions.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './SampleQuestions.css';\nimport EnhancedPDFViewer from './EnhancedPDFViewer';\n\nconst SampleQuestions = () => {\n  const [uploadedPapers, setUploadedPapers] = useState([]);\n  const [filteredPapers, setFilteredPapers] = useState([]);\n  const [textbooks, setTextbooks] = useState([]);\n  const [filteredTextbooks, setFilteredTextbooks] = useState([]);\n  const [subjects, setSubjects] = useState([]);\n  const [selectedSubject, setSelectedSubject] = useState('all');\n  const [selectedTextbook, setSelectedTextbook] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [modalOpen, setModalOpen] = useState(false);\n  const [modalContent, setModalContent] = useState('');\n  const [modalTitle, setModalTitle] = useState('');\n  const [loadingContent, setLoadingContent] = useState(false);\n  const [showEnhancedViewer, setShowEnhancedViewer] = useState(false);\n  const [selectedPaperId, setSelectedPaperId] = useState(null);\n\n  useEffect(() => {\n    fetchUploadedPapers();\n    fetchTextbooks();\n  }, []);\n\n  const fetchUploadedPapers = async () => {\n    setLoading(true);\n    setError('');\n    try {\n      const response = await axios.get('http://localhost:5000/api/uploaded-papers');\n      const papers = response.data;\n      setUploadedPapers(papers);\n      setFilteredPapers(papers);\n      \n      // Extract unique subjects from uploaded papers\n      const uniqueSubjects = [...new Set(papers.map(paper => paper.subject))];\n      setSubjects(uniqueSubjects);\n    } catch (err) {\n      setError('Failed to load uploaded papers. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchTextbooks = async () => {\n    try {\n      const response = await axios.get('http://localhost:5000/api/textbooks');\n      const books = response.data;\n      setTextbooks(books);\n      setFilteredTextbooks(books);\n    } catch (err) {\n      console.error('Error fetching textbooks:', err);\n    }\n  };\n\n  const handleSubjectChange = (subject) => {\n    setSelectedSubject(subject);\n    if (subject === 'all') {\n      setFilteredPapers(uploadedPapers);\n      setFilteredTextbooks(textbooks);\n    } else {\n      setFilteredPapers(uploadedPapers.filter(paper => paper.subject === subject));\n      setFilteredTextbooks(textbooks.filter(book => book.subject === subject));\n    }\n  };\n\n  const handleRowClick = async (paper, isTextbook = false) => {\n    if (isTextbook) {\n      // Select textbook for analysis\n      setSelectedTextbook(paper);\n      return;\n    }\n\n    // Check if a textbook is selected for AI analysis\n    if (selectedTextbook) {\n      // Open enhanced viewer with AI features\n      setSelectedPaperId(paper.id);\n      setShowEnhancedViewer(true);\n    } else {\n      // Open regular modal viewer\n      setModalOpen(true);\n      setModalTitle(paper.title);\n      setLoadingContent(true);\n      setModalContent('');\n\n      try {\n        const apiUrl = `http://localhost:5000/api/paper-file/${paper.id}`;\n        \n        const response = await axios.get(apiUrl);\n        if (response.data.success) {\n          const fileType = response.data.file_type;\n          const fileUrl = `http://localhost:5000/api/download-paper/${paper.id}`;\n          \n          if (fileType === 'pdf') {\n            setModalContent(`<iframe src=\"${fileUrl}\" style=\"width: 100%; height: 600px; border: none; border-radius: 8px;\"></iframe>`);\n          } else if (fileType === 'txt') {\n            const textResponse = await fetch(fileUrl);\n            const textContent = await textResponse.text();\n            setModalContent(`<pre style=\"white-space: pre-wrap; font-family: Arial; padding: 20px; background: #f8f9fa; border-radius: 8px; line-height: 1.6;\">${textContent}</pre>`);\n          } else {\n            setModalContent(`<div style=\"padding: 40px; text-align: center;\">\n              <h3>File Preview Not Available</h3>\n              <p>This file type (${fileType.toUpperCase()}) cannot be previewed in the browser.</p>\n              <a href=\"${fileUrl}\" download style=\"display: inline-block; margin-top: 20px; padding: 12px 24px; background: #667eea; color: white; text-decoration: none; border-radius: 8px; font-weight: 600;\">Download File</a>\n            </div>`);\n          }\n        } else {\n          setModalContent('<div style=\"padding: 20px; color: red;\">Failed to load file.</div>');\n        }\n      } catch (err) {\n        setModalContent('<div style=\"padding: 20px; color: red;\">Error loading file.</div>');\n      } finally {\n        setLoadingContent(false);\n      }\n    }\n  };\n\n  const handleTextbookClick = (textbook) => {\n    if (selectedTextbook && selectedTextbook.id === textbook.id) {\n      // Deselect textbook\n      setSelectedTextbook(null);\n    } else {\n      // Select textbook\n      setSelectedTextbook(textbook);\n    }\n  };\n\n  const closeModal = () => {\n    setModalOpen(false);\n    setModalContent('');\n    setModalTitle('');\n  };\n\n  const formatDate = (dateString) => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('en-US', { \n      year: 'numeric', \n      month: 'short', \n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  return (\n    <div className=\"sample-questions\">\n      {showEnhancedViewer ? (\n        <EnhancedPDFViewer\n          paperId={selectedPaperId}\n          textbookId={selectedTextbook?.id}\n          onClose={() => setShowEnhancedViewer(false)}\n        />\n      ) : (\n        <>\n          <div className=\"questions-header\">\n            <h2>📚 Answer a full paper</h2>\n            <p>\n              {selectedTextbook \n                ? `🤖 AI Mode Active: Selected \"${selectedTextbook.title}\" - Click any question paper for AI analysis`\n                : 'Select a textbook first, then click a question paper for AI-powered analysis'}\n            </p>\n          </div>\n\n      <div className=\"filter-section\">\n        <label>Filter by Subject:</label>\n        <div className=\"subject-filters\">\n          <button\n            className={`filter-btn ${selectedSubject === 'all' ? 'active' : ''}`}\n            onClick={() => handleSubjectChange('all')}\n          >\n            All Subjects\n          </button>\n          {subjects.map((subject) => (\n            <button\n              key={subject}\n              className={`filter-btn ${selectedSubject === subject ? 'active' : ''}`}\n              onClick={() => handleSubjectChange(subject)}\n            >\n              {subject}\n            </button>\n          ))}\n        </div>\n      </div>\n\n          {/* Textbooks Section */}\n          {filteredTextbooks.length > 0 && (\n            <div className=\"textbooks-section\">\n              <h3 className=\"section-heading\">\n                📖 Available Textbooks \n                {selectedTextbook && <span className=\"ai-badge\">✨ AI Analysis Mode</span>}\n              </h3>\n              <div className=\"textbooks-grid\">\n                {filteredTextbooks.map((textbook) => (\n                  <div \n                    key={textbook.id} \n                    className={`textbook-card ${selectedTextbook?.id === textbook.id ? 'selected' : ''}`}\n                    onClick={() => handleTextbookClick(textbook)}\n                  >\n                    <div className=\"textbook-icon\">📚</div>\n                    <div className=\"textbook-info\">\n                      <h4>{textbook.title}</h4>\n                      <p className=\"textbook-subject\">{textbook.subject}</p>\n                      {textbook.author && <p className=\"textbook-author\">By: {textbook.author}</p>}\n                      <p className=\"textbook-meta\">Uploaded by: {textbook.uploaded_by_name || 'Unknown'}</p>\n                    </div>\n                    {selectedTextbook?.id === textbook.id && (\n                      <div className=\"selected-badge\">✓ Selected</div>\n                    )}\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n      {/* Question Papers Section */}\n      <div className=\"papers-section\">\n        <h3 className=\"section-heading\">📝 Question Papers</h3>\n        {loading ? (\n          <div className=\"loading\">Loading papers...</div>\n        ) : error ? (\n          <div className=\"error\">{error}</div>\n        ) : filteredPapers.length === 0 ? (\n          <div className=\"no-questions\">\n            {selectedSubject === 'all' \n              ? 'No papers uploaded yet. Upload papers from the \"Upload Papers\" menu.' \n              : `No papers found for ${selectedSubject}.`}\n          </div>\n        ) : (\n          <div className=\"table-container\">\n            <table className=\"papers-table\">\n              <thead>\n                <tr>\n                  <th>#</th>\n                  <th>Title</th>\n                  <th>Subject</th>\n                  <th>Uploaded By</th>\n                  <th>Upload Date</th>\n                  <th>File Name</th>\n                </tr>\n              </thead>\n              <tbody>\n                {filteredPapers.map((paper, index) => (\n                  <tr \n                    key={paper.id} \n                    onClick={() => handleRowClick(paper, false)}\n                    className=\"clickable-row\"\n                  >\n                    <td>{index + 1}</td>\n                    <td className=\"title-cell\">{paper.title}</td>\n                  <td>\n                    <span className=\"subject-badge\">{paper.subject}</span>\n                  </td>\n                  <td>{paper.uploaded_by_name || 'Unknown'}</td>\n                  <td>{formatDate(paper.uploaded_at)}</td>\n                  <td className=\"file-cell\">{paper.file_path.split('/').pop()}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n        )}\n      </div>\n\n          {/* Modal for displaying paper content */}\n          {modalOpen && (\n            <div className=\"modal-overlay\" onClick={closeModal}>\n              <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\n                <div className=\"modal-header\">\n                  <h3>{modalTitle}</h3>\n                  <button className=\"close-button\" onClick={closeModal}>✕</button>\n                </div>\n                <div className=\"modal-body\">\n                  {loadingContent ? (\n                    <div className=\"loading-content\">Loading content...</div>\n                  ) : (\n                    <div dangerouslySetInnerHTML={{ __html: modalContent }} />\n                  )}\n                </div>\n              </div>\n            </div>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default SampleQuestions;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}