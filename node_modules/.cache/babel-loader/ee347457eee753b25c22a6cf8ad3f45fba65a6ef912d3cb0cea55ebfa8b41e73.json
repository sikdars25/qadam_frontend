{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'./EnhancedPDFViewer.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EnhancedPDFViewer=_ref=>{let{paperId,textbookId,onClose}=_ref;const[analyzing,setAnalyzing]=useState(false);const[analysis,setAnalysis]=useState(null);const[selectedQuestion,setSelectedQuestion]=useState(null);const[solution,setSolution]=useState(null);const[loadingSolution,setLoadingSolution]=useState(false);const[showSolutionModal,setShowSolutionModal]=useState(false);const[showChapterPreview,setShowChapterPreview]=useState(false);const[selectedChapter,setSelectedChapter]=useState(null);const[expandedQuestions,setExpandedQuestions]=useState(new Set());const[error,setError]=useState('');useEffect(()=>{if(paperId&&textbookId){analyzeQuestionPaper();}},[paperId,textbookId]);const analyzeQuestionPaper=async()=>{setAnalyzing(true);setError('');try{const response=await axios.post('http://localhost:5000/api/analyze-paper',{paper_id:paperId,textbook_id:textbookId});if(response.data.success){setAnalysis(response.data);}else{setError(response.data.error||'Analysis failed');}}catch(err){var _err$response,_err$response$data;const errorMsg=((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||err.message;// Check if it's a missing dependencies error\nif(errorMsg.includes('AI features not available')||errorMsg.includes('dependencies')){setError('🤖 AI Features Not Installed\\n\\n'+'To enable AI-powered analysis:\\n\\n'+'1. Open terminal in backend folder\\n'+'2. Run: pip install -r requirements-ai.txt\\n'+'   OR run: install_ai.bat\\n\\n'+'3. Restart backend: python app.py\\n\\n'+'This will download ~500MB on first install.');}else{setError('Failed to analyze question paper. '+errorMsg);}}finally{setAnalyzing(false);}};const handleGetSolution=async question=>{setSelectedQuestion(question);setShowSolutionModal(true);setLoadingSolution(true);setSolution(null);try{// Get context from best matching chapter\nconst context=question.chapters&&question.chapters.length>0?\"Chapter \".concat(question.chapters[0].chapter_number,\": \").concat(question.chapters[0].chapter_title):'';const response=await axios.post('http://localhost:5000/api/generate-solution',{question_text:question.question_text,context:context});if(response.data.success){setSolution(response.data.solution);}else{setSolution('Failed to generate solution: '+response.data.solution);}}catch(err){var _err$response2,_err$response2$data;setSolution('Error generating solution: '+(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.error)||err.message));}finally{setLoadingSolution(false);}};const closeSolutionModal=()=>{setShowSolutionModal(false);setSelectedQuestion(null);setSolution(null);};const toggleQuestion=questionNumber=>{setExpandedQuestions(prev=>{const newSet=new Set(prev);if(newSet.has(questionNumber)){newSet.delete(questionNumber);}else{newSet.add(questionNumber);}return newSet;});};const formatSolution=text=>{if(!text)return'';// Escape HTML first\nlet formatted=text.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');// Bold patterns for important content\nformatted=formatted// Final Answer / Answer / Solution patterns\n.replace(/\\b(Final Answer|Answer|Solution|Result|Conclusion):\\s*/gi,'<strong class=\"highlight-answer\">$1:</strong> ').replace(/\\b(Final Answer|Answer|Solution|Result|Conclusion)\\b/gi,'<strong class=\"highlight-answer\">$1</strong>')// Step numbers and headings\n.replace(/^(\\d+\\.|Step \\d+:?)\\s*/gm,'<strong class=\"highlight-step\">$1</strong> ').replace(/^([A-Z][^:\\n]{0,50}:)\\s*/gm,'<strong class=\"highlight-heading\">$1</strong> ')// Mathematical equations and formulas (with = sign)\n.replace(/([A-Za-z0-9₀-₉]+\\s*[\\+\\-\\×\\÷\\*\\/]\\s*[A-Za-z0-9₀-₉]+\\s*=\\s*[A-Za-z0-9₀-₉\\+\\-\\×\\÷\\*\\/\\(\\)\\[\\]\\{\\}\\^\\s\\.]+)/g,'<strong class=\"highlight-formula\">$1</strong>').replace(/([A-Za-z0-9₀-₉]+\\s*=\\s*[A-Za-z0-9₀-₉\\+\\-\\×\\÷\\*\\/\\(\\)\\[\\]\\{\\}\\^\\s\\.]+)/g,'<strong class=\"highlight-formula\">$1</strong>')// Chemical formulas (H₂O, CO₂, NaCl, etc.) - only when subscripts present\n.replace(/\\b([A-Z][a-z]?[₀-₉]+[A-Za-z₀-₉]*)\\b/g,'<strong class=\"highlight-chemical\">$&</strong>')// Theorem names (Pythagoras' Theorem, Newton's Law, etc.)\n.replace(/\\b([A-Z][a-z]+(?:'s)?\\s+(?:Theorem|Law|Principle|Rule|Formula|Equation))\\b/g,'<strong class=\"highlight-theorem\">$&</strong>')// Important keywords (but NOT \"Formula\", \"Equation\", \"Theorem\" alone)\n.replace(/\\b(Therefore|Hence|Thus|Important|Note|Remember|Key Point|Concept|Definition)\\b/gi,'<strong class=\"highlight-keyword\">$&</strong>')// Numbers with units\n.replace(/\\b(\\d+\\.?\\d*)\\s*(m|cm|mm|km|kg|g|mg|L|mL|°C|°F|K|mol|J|W|V|A|Ω|Hz|N|Pa|s|min|h|day|year)s?\\b/g,'<strong class=\"highlight-unit\">$1 $2</strong>')// Preserve line breaks\n.replace(/\\n/g,'<br/>');return formatted;};return/*#__PURE__*/_jsxs(\"div\",{className:\"enhanced-pdf-viewer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"viewer-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCCA AI-Powered Question Analysis\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:onClose,children:\"\\u2715\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"viewer-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pdf-panel\",children:/*#__PURE__*/_jsx(\"div\",{className:\"pdf-container\",children:/*#__PURE__*/_jsx(\"iframe\",{src:\"http://localhost:5000/api/download-paper/\".concat(paperId),style:{width:'100%',height:'100%',border:'none'},title:\"Question Paper\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"analysis-panel\",children:analyzing?/*#__PURE__*/_jsxs(\"div\",{className:\"analyzing-state\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uD83D\\uDD0D Analyzing question paper...\"}),/*#__PURE__*/_jsx(\"p\",{className:\"sub-text\",children:\"Extracting questions and mapping to chapters\"})]}):error?/*#__PURE__*/_jsxs(\"div\",{className:\"error-state\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u274C \",error]}),/*#__PURE__*/_jsx(\"button\",{onClick:analyzeQuestionPaper,className:\"retry-btn\",children:\"\\uD83D\\uDD04 Retry Analysis\"})]}):analysis?/*#__PURE__*/_jsxs(\"div\",{className:\"analysis-results\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"analysis-header\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDCDD Analysis Complete\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"stat-badge\",children:[analysis.total_questions,\" Questions\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-badge\",children:[analysis.chapters_indexed,\" Chapters\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"questions-list\",children:analysis.questions.map((question,index)=>{const isExpanded=expandedQuestions.has(question.question_number);return/*#__PURE__*/_jsxs(\"div\",{className:\"question-accordion \".concat(isExpanded?'expanded':''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"accordion-header\",onClick:()=>toggleQuestion(question.question_number),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"accordion-title\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"q-number\",children:[\"Q\",question.question_number]}),/*#__PURE__*/_jsxs(\"span\",{className:\"question-preview\",children:[question.question_text.substring(0,80),question.question_text.length>80?'...':'']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"accordion-actions\",children:[question.chapters&&question.chapters.length>0&&/*#__PURE__*/_jsxs(\"span\",{className:\"chapter-count\",children:[question.chapters.length,\" chapter\",question.chapters.length>1?'s':'']}),/*#__PURE__*/_jsx(\"span\",{className:\"accordion-icon\",children:isExpanded?'▼':'▶'})]})]}),isExpanded&&/*#__PURE__*/_jsxs(\"div\",{className:\"accordion-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"question-text\",children:question.question_text}),/*#__PURE__*/_jsx(\"button\",{className:\"solution-btn\",onClick:e=>{e.stopPropagation();handleGetSolution(question);},children:\"\\uD83D\\uDCA1 Get Solution\"}),question.chapters&&question.chapters.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"chapter-mapping\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mapping-label\",children:\"\\uD83D\\uDCD6 Related Chapters:\"}),question.chapters.map((chapter,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"chapter-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chapter-header\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"chapter-info\",children:[\"Ch \",chapter.chapter_number,\": \",chapter.chapter_title]}),/*#__PURE__*/_jsxs(\"span\",{className:\"similarity-score\",children:[chapter.similarity_score,\"% match\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"chapter-meta\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"page-info\",children:[\"\\uD83D\\uDCC4 \",chapter.page_range||\"Pages \".concat(chapter.page_start,\"-\").concat(chapter.page_end)]})}),chapter.preview&&/*#__PURE__*/_jsxs(\"div\",{className:\"chapter-preview\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"preview-label\",children:\"Preview:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"preview-text\",children:chapter.preview})]}),/*#__PURE__*/_jsx(\"button\",{className:\"preview-chapter-btn\",onClick:e=>{e.stopPropagation();setSelectedChapter(chapter);setShowChapterPreview(true);},children:\"\\uD83D\\uDCD6 View Chapter Pages\"})]},idx))]})]})]},index);})})]}):/*#__PURE__*/_jsx(\"div\",{className:\"no-analysis\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Select a textbook to analyze this question paper\"})})})]}),showSolutionModal&&/*#__PURE__*/_jsx(\"div\",{className:\"solution-modal-overlay\",onClick:closeSolutionModal,children:/*#__PURE__*/_jsxs(\"div\",{className:\"solution-modal draggable\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"solution-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"solution-title-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCA1 AI-Generated Solution\"}),/*#__PURE__*/_jsx(\"span\",{className:\"powered-by\",children:\"Powered by Groq Llama 3.3\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:closeSolutionModal,children:\"\\u2715\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"solution-content\",children:[selectedQuestion&&/*#__PURE__*/_jsxs(\"div\",{className:\"question-display\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"question-label\",children:[\"Question \",selectedQuestion.question_number]}),/*#__PURE__*/_jsx(\"p\",{className:\"question-text-modal\",children:selectedQuestion.question_text})]}),loadingSolution?/*#__PURE__*/_jsxs(\"div\",{className:\"loading-solution\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Generating solution with AI...\"})]}):solution?/*#__PURE__*/_jsx(\"div\",{className:\"solution-text\",dangerouslySetInnerHTML:{__html:formatSolution(solution)}}):null]})]})}),showChapterPreview&&selectedChapter&&/*#__PURE__*/_jsx(\"div\",{className:\"chapter-preview-modal-overlay\",onClick:()=>setShowChapterPreview(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"chapter-preview-modal\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chapter-preview-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chapter-preview-title\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"\\uD83D\\uDCD6 Chapter \",selectedChapter.chapter_number,\": \",selectedChapter.chapter_title]}),/*#__PURE__*/_jsxs(\"p\",{className:\"chapter-preview-subtitle\",children:[\"Pages \",selectedChapter.page_start,\"-\",selectedChapter.page_end,\" \\u2022 \",selectedChapter.similarity_score,\"% match\"]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:()=>setShowChapterPreview(false),children:\"\\u2715\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"chapter-preview-content\",children:/*#__PURE__*/_jsx(\"iframe\",{src:\"http://localhost:5000/api/textbooks/\".concat(textbookId,\"#page=\").concat(selectedChapter.page_start),title:\"Chapter Preview\",className:\"pdf-preview-iframe\"})})]})})]});};export default EnhancedPDFViewer;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","EnhancedPDFViewer","_ref","paperId","textbookId","onClose","analyzing","setAnalyzing","analysis","setAnalysis","selectedQuestion","setSelectedQuestion","solution","setSolution","loadingSolution","setLoadingSolution","showSolutionModal","setShowSolutionModal","showChapterPreview","setShowChapterPreview","selectedChapter","setSelectedChapter","expandedQuestions","setExpandedQuestions","Set","error","setError","analyzeQuestionPaper","response","post","paper_id","textbook_id","data","success","err","_err$response","_err$response$data","errorMsg","message","includes","handleGetSolution","question","context","chapters","length","concat","chapter_number","chapter_title","question_text","_err$response2","_err$response2$data","closeSolutionModal","toggleQuestion","questionNumber","prev","newSet","has","delete","add","formatSolution","text","formatted","replace","className","children","onClick","src","style","width","height","border","title","total_questions","chapters_indexed","questions","map","index","isExpanded","question_number","substring","e","stopPropagation","chapter","idx","similarity_score","page_range","page_start","page_end","preview","dangerouslySetInnerHTML","__html"],"sources":["D:/AI/_Programs/CBSE/aqnamic/frontend/src/components/EnhancedPDFViewer.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './EnhancedPDFViewer.css';\n\nconst EnhancedPDFViewer = ({ paperId, textbookId, onClose }) => {\n  const [analyzing, setAnalyzing] = useState(false);\n  const [analysis, setAnalysis] = useState(null);\n  const [selectedQuestion, setSelectedQuestion] = useState(null);\n  const [solution, setSolution] = useState(null);\n  const [loadingSolution, setLoadingSolution] = useState(false);\n  const [showSolutionModal, setShowSolutionModal] = useState(false);\n  const [showChapterPreview, setShowChapterPreview] = useState(false);\n  const [selectedChapter, setSelectedChapter] = useState(null);\n  const [expandedQuestions, setExpandedQuestions] = useState(new Set());\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    if (paperId && textbookId) {\n      analyzeQuestionPaper();\n    }\n  }, [paperId, textbookId]);\n\n  const analyzeQuestionPaper = async () => {\n    setAnalyzing(true);\n    setError('');\n    \n    try {\n      const response = await axios.post('http://localhost:5000/api/analyze-paper', {\n        paper_id: paperId,\n        textbook_id: textbookId\n      });\n\n      if (response.data.success) {\n        setAnalysis(response.data);\n      } else {\n        setError(response.data.error || 'Analysis failed');\n      }\n    } catch (err) {\n      const errorMsg = err.response?.data?.error || err.message;\n      \n      // Check if it's a missing dependencies error\n      if (errorMsg.includes('AI features not available') || errorMsg.includes('dependencies')) {\n        setError(\n          '🤖 AI Features Not Installed\\n\\n' +\n          'To enable AI-powered analysis:\\n\\n' +\n          '1. Open terminal in backend folder\\n' +\n          '2. Run: pip install -r requirements-ai.txt\\n' +\n          '   OR run: install_ai.bat\\n\\n' +\n          '3. Restart backend: python app.py\\n\\n' +\n          'This will download ~500MB on first install.'\n        );\n      } else {\n        setError('Failed to analyze question paper. ' + errorMsg);\n      }\n    } finally {\n      setAnalyzing(false);\n    }\n  };\n\n  const handleGetSolution = async (question) => {\n    setSelectedQuestion(question);\n    setShowSolutionModal(true);\n    setLoadingSolution(true);\n    setSolution(null);\n\n    try {\n      // Get context from best matching chapter\n      const context = question.chapters && question.chapters.length > 0\n        ? `Chapter ${question.chapters[0].chapter_number}: ${question.chapters[0].chapter_title}`\n        : '';\n\n      const response = await axios.post('http://localhost:5000/api/generate-solution', {\n        question_text: question.question_text,\n        context: context\n      });\n\n      if (response.data.success) {\n        setSolution(response.data.solution);\n      } else {\n        setSolution('Failed to generate solution: ' + response.data.solution);\n      }\n    } catch (err) {\n      setSolution('Error generating solution: ' + (err.response?.data?.error || err.message));\n    } finally {\n      setLoadingSolution(false);\n    }\n  };\n\n  const closeSolutionModal = () => {\n    setShowSolutionModal(false);\n    setSelectedQuestion(null);\n    setSolution(null);\n  };\n\n  const toggleQuestion = (questionNumber) => {\n    setExpandedQuestions(prev => {\n      const newSet = new Set(prev);\n      if (newSet.has(questionNumber)) {\n        newSet.delete(questionNumber);\n      } else {\n        newSet.add(questionNumber);\n      }\n      return newSet;\n    });\n  };\n\n  const formatSolution = (text) => {\n    if (!text) return '';\n    \n    // Escape HTML first\n    let formatted = text\n      .replace(/&/g, '&amp;')\n      .replace(/</g, '&lt;')\n      .replace(/>/g, '&gt;');\n    \n    // Bold patterns for important content\n    formatted = formatted\n      // Final Answer / Answer / Solution patterns\n      .replace(/\\b(Final Answer|Answer|Solution|Result|Conclusion):\\s*/gi, '<strong class=\"highlight-answer\">$1:</strong> ')\n      .replace(/\\b(Final Answer|Answer|Solution|Result|Conclusion)\\b/gi, '<strong class=\"highlight-answer\">$1</strong>')\n      \n      // Step numbers and headings\n      .replace(/^(\\d+\\.|Step \\d+:?)\\s*/gm, '<strong class=\"highlight-step\">$1</strong> ')\n      .replace(/^([A-Z][^:\\n]{0,50}:)\\s*/gm, '<strong class=\"highlight-heading\">$1</strong> ')\n      \n      // Mathematical equations and formulas (with = sign)\n      .replace(/([A-Za-z0-9₀-₉]+\\s*[\\+\\-\\×\\÷\\*\\/]\\s*[A-Za-z0-9₀-₉]+\\s*=\\s*[A-Za-z0-9₀-₉\\+\\-\\×\\÷\\*\\/\\(\\)\\[\\]\\{\\}\\^\\s\\.]+)/g, '<strong class=\"highlight-formula\">$1</strong>')\n      .replace(/([A-Za-z0-9₀-₉]+\\s*=\\s*[A-Za-z0-9₀-₉\\+\\-\\×\\÷\\*\\/\\(\\)\\[\\]\\{\\}\\^\\s\\.]+)/g, '<strong class=\"highlight-formula\">$1</strong>')\n      \n      // Chemical formulas (H₂O, CO₂, NaCl, etc.) - only when subscripts present\n      .replace(/\\b([A-Z][a-z]?[₀-₉]+[A-Za-z₀-₉]*)\\b/g, '<strong class=\"highlight-chemical\">$&</strong>')\n      \n      // Theorem names (Pythagoras' Theorem, Newton's Law, etc.)\n      .replace(/\\b([A-Z][a-z]+(?:'s)?\\s+(?:Theorem|Law|Principle|Rule|Formula|Equation))\\b/g, '<strong class=\"highlight-theorem\">$&</strong>')\n      \n      // Important keywords (but NOT \"Formula\", \"Equation\", \"Theorem\" alone)\n      .replace(/\\b(Therefore|Hence|Thus|Important|Note|Remember|Key Point|Concept|Definition)\\b/gi, '<strong class=\"highlight-keyword\">$&</strong>')\n      \n      // Numbers with units\n      .replace(/\\b(\\d+\\.?\\d*)\\s*(m|cm|mm|km|kg|g|mg|L|mL|°C|°F|K|mol|J|W|V|A|Ω|Hz|N|Pa|s|min|h|day|year)s?\\b/g, '<strong class=\"highlight-unit\">$1 $2</strong>')\n      \n      // Preserve line breaks\n      .replace(/\\n/g, '<br/>');\n    \n    return formatted;\n  };\n\n  return (\n    <div className=\"enhanced-pdf-viewer\">\n      <div className=\"viewer-header\">\n        <h3>📊 AI-Powered Question Analysis</h3>\n        <button className=\"close-btn\" onClick={onClose}>✕</button>\n      </div>\n\n      <div className=\"viewer-content\">\n        {/* Left Panel - PDF Viewer */}\n        <div className=\"pdf-panel\">\n          <div className=\"pdf-container\">\n            <iframe\n              src={`http://localhost:5000/api/download-paper/${paperId}`}\n              style={{ width: '100%', height: '100%', border: 'none' }}\n              title=\"Question Paper\"\n            />\n          </div>\n        </div>\n\n        {/* Right Panel - Analysis Results */}\n        <div className=\"analysis-panel\">\n          {analyzing ? (\n            <div className=\"analyzing-state\">\n              <div className=\"spinner\"></div>\n              <p>🔍 Analyzing question paper...</p>\n              <p className=\"sub-text\">Extracting questions and mapping to chapters</p>\n            </div>\n          ) : error ? (\n            <div className=\"error-state\">\n              <p>❌ {error}</p>\n              <button onClick={analyzeQuestionPaper} className=\"retry-btn\">\n                🔄 Retry Analysis\n              </button>\n            </div>\n          ) : analysis ? (\n            <div className=\"analysis-results\">\n              <div className=\"analysis-header\">\n                <h4>📝 Analysis Complete</h4>\n                <div className=\"stats\">\n                  <span className=\"stat-badge\">\n                    {analysis.total_questions} Questions\n                  </span>\n                  <span className=\"stat-badge\">\n                    {analysis.chapters_indexed} Chapters\n                  </span>\n                </div>\n              </div>\n\n              <div className=\"questions-list\">\n                {analysis.questions.map((question, index) => {\n                  const isExpanded = expandedQuestions.has(question.question_number);\n                  return (\n                    <div key={index} className={`question-accordion ${isExpanded ? 'expanded' : ''}`}>\n                      <div \n                        className=\"accordion-header\"\n                        onClick={() => toggleQuestion(question.question_number)}\n                      >\n                        <div className=\"accordion-title\">\n                          <span className=\"q-number\">Q{question.question_number}</span>\n                          <span className=\"question-preview\">\n                            {question.question_text.substring(0, 80)}\n                            {question.question_text.length > 80 ? '...' : ''}\n                          </span>\n                        </div>\n                        <div className=\"accordion-actions\">\n                          {question.chapters && question.chapters.length > 0 && (\n                            <span className=\"chapter-count\">\n                              {question.chapters.length} chapter{question.chapters.length > 1 ? 's' : ''}\n                            </span>\n                          )}\n                          <span className=\"accordion-icon\">{isExpanded ? '▼' : '▶'}</span>\n                        </div>\n                      </div>\n                      \n                      {isExpanded && (\n                        <div className=\"accordion-content\">\n                          <div className=\"question-text\">\n                            {question.question_text}\n                          </div>\n\n                          <button\n                            className=\"solution-btn\"\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              handleGetSolution(question);\n                            }}\n                          >\n                            💡 Get Solution\n                          </button>\n\n                          {question.chapters && question.chapters.length > 0 && (\n                            <div className=\"chapter-mapping\">\n                              <div className=\"mapping-label\">📖 Related Chapters:</div>\n                              {question.chapters.map((chapter, idx) => (\n                                <div key={idx} className=\"chapter-card\">\n                                  <div className=\"chapter-header\">\n                                    <span className=\"chapter-info\">\n                                      Ch {chapter.chapter_number}: {chapter.chapter_title}\n                                    </span>\n                                    <span className=\"similarity-score\">\n                                      {chapter.similarity_score}% match\n                                    </span>\n                                  </div>\n                                  <div className=\"chapter-meta\">\n                                    <span className=\"page-info\">\n                                      📄 {chapter.page_range || `Pages ${chapter.page_start}-${chapter.page_end}`}\n                                    </span>\n                                  </div>\n                                  {chapter.preview && (\n                                    <div className=\"chapter-preview\">\n                                      <div className=\"preview-label\">Preview:</div>\n                                      <div className=\"preview-text\">{chapter.preview}</div>\n                                    </div>\n                                  )}\n                                  <button \n                                    className=\"preview-chapter-btn\"\n                                    onClick={(e) => {\n                                      e.stopPropagation();\n                                      setSelectedChapter(chapter);\n                                      setShowChapterPreview(true);\n                                    }}\n                                  >\n                                    📖 View Chapter Pages\n                                  </button>\n                                </div>\n                              ))}\n                            </div>\n                          )}\n                        </div>\n                      )}\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          ) : (\n            <div className=\"no-analysis\">\n              <p>Select a textbook to analyze this question paper</p>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Solution Modal */}\n      {showSolutionModal && (\n        <div className=\"solution-modal-overlay\" onClick={closeSolutionModal}>\n          <div className=\"solution-modal draggable\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"solution-header\">\n              <div className=\"solution-title-section\">\n                <h3>💡 AI-Generated Solution</h3>\n                <span className=\"powered-by\">Powered by Groq Llama 3.3</span>\n              </div>\n              <button className=\"close-btn\" onClick={closeSolutionModal}>✕</button>\n            </div>\n            \n            <div className=\"solution-content\">\n              {selectedQuestion && (\n                <div className=\"question-display\">\n                  <div className=\"question-label\">Question {selectedQuestion.question_number}</div>\n                  <p className=\"question-text-modal\">{selectedQuestion.question_text}</p>\n                </div>\n              )}\n\n              {loadingSolution ? (\n                <div className=\"loading-solution\">\n                  <div className=\"spinner\"></div>\n                  <p>Generating solution with AI...</p>\n                </div>\n              ) : solution ? (\n                <div className=\"solution-text\" dangerouslySetInnerHTML={{ __html: formatSolution(solution) }} />\n              ) : null}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Chapter Preview Modal */}\n      {showChapterPreview && selectedChapter && (\n        <div className=\"chapter-preview-modal-overlay\" onClick={() => setShowChapterPreview(false)}>\n          <div className=\"chapter-preview-modal\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"chapter-preview-header\">\n              <div className=\"chapter-preview-title\">\n                <h3>📖 Chapter {selectedChapter.chapter_number}: {selectedChapter.chapter_title}</h3>\n                <p className=\"chapter-preview-subtitle\">\n                  Pages {selectedChapter.page_start}-{selectedChapter.page_end} • {selectedChapter.similarity_score}% match\n                </p>\n              </div>\n              <button className=\"close-btn\" onClick={() => setShowChapterPreview(false)}>✕</button>\n            </div>\n            \n            <div className=\"chapter-preview-content\">\n              <iframe\n                src={`http://localhost:5000/api/textbooks/${textbookId}#page=${selectedChapter.page_start}`}\n                title=\"Chapter Preview\"\n                className=\"pdf-preview-iframe\"\n              />\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default EnhancedPDFViewer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}